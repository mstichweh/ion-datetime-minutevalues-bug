<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title> Time selector bug </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-content>
      <p>
        Clicking on the time field will open the time selector with 15 minute
        increments. If the current time is 10:25 for example, the preselected
        value will be "10:00". When the time is confirmed via the "Done" button
        without changing the minute value, the time value will be "10:25"
        instead of the shown "10:00".
      </p>
      <ion-list>
        <ion-item>
          <ion-label>Time</ion-label>
          <ion-input
            (click)="openModal()"
            [value]="timeValue"
            placeholder="Click me"
          ></ion-input>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <ion-modal
    #popup
    [showBackdrop]="true"
    [breakpoints]="[0, 0.3]"
    [initialBreakpoint]="0.3"
    [handle]="false"
  >
    <ng-template>
      <ion-content>
        <ion-datetime
          [value]="timeValue"
          (ionChange)="onChange($event)"
          [minuteValues]="[0, 15, 30, 45]"
          [firstDayOfWeek]="1"
          [showDefaultButtons]="true"
          [presentation]="'time'"
        >
        </ion-datetime>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
